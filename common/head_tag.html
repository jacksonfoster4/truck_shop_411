<script>
    document.addEventListener("DOMContentLoaded", (e) => {
        fetch("/tag/ribbon.json")
        .then(res => res.json() )
        .then(response => {
          setupRibbon(response['topic_list']['topics'])
        })
    })

    function setupRibbon(topics){
      let tickerTemplate = (topic) => `<a href="/t/${topic.slug}/${topic.id}" class="ticker-item">${topic.title}</a>`
      topics.map(topic => {
          document.querySelector("#ticker-move").innerHTML += tickerTemplate(topic)
      })
    }
</script>
<style>
  .tcontainer {
      width: 100%;
      overflow: hidden;
  }

  .ticker-wrap {
      width: 100%;
      padding-left: 100%;
      background-color: #eee;
  }

  @keyframes ticker {
      100% {
          transform: translate3d(-100%, 0, 0);
      }
  }

  .ticker-move {
      display: inline-block;
      white-space: nowrap;
      padding-right: 100%;
      animation-timing-function: linear;
      animation: ticker 60s infinite;
      background-color: black;
  }

  .ticker-move:hover {
      animation-play-state: paused;
  }

  .ticker-item {
      display: inline-block;
      padding: 0 40px;
      font-size: 20px;
      font-family: monospace;
      color: yellow
  }
  .nav.nav-pills a.active {
    border-radius: 5px;
  }
  .nav.nav-pills a {
    font-family: 'Roboto Slab', 'Arial', sans-serif
  }

</style>
